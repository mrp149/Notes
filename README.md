# Notes

-----------------------------------------------------------------

 Few things can be done around

 I will fork dubna.git  only for the reason to markup the OS Dubna
files and patch some typos I found and then, eventually, it will be 
merged back to the source, I promise. 

m.p. 

------------------------------------------------------------------

17-января-2017

Некоторые планы на исхдоники системы ОС Дубна (dubna).  Прежде всего,
огромное спасибо всем, кто приложил свои усилия по сохранению истории и
материалов связанных с БЭСМ-6.  Отдельное спасибо Сапожниковым за тексты ОС
Дубна и Левчаносвкому сохранившему всю схиматику МКБ.  Шансы потерять всё
были большие, а вот суметь сохранить, надо было приложить усилее и терпение.

Некоторые планы на исходники системы ОС Дубна (dubna).  Прежде всего,
огромное спасибо всем, кто приложил свои усилия по сохранению истории и
материалов связанных с БЭСМ-6.  Отдельное спасибо Сапожниковым, за тексты ОС
Дубна и Левчаносвкому, сохранившему всю схематику МКБ.  Шансы потерять всё
были большие, а вот суметь сохранить, надо было приложить усилия и терпение.

Теперь про планы:

1.  Разобрать сохранившиеся материалы и исходники (аннотировать их)

2.  Если обнаружатся образы барабанов или дисков сохранившие ОС Дубна для
БЭСМ-6, то конечно же, попробовать запустить ее на эмуляторе.

3.  Как альтернатива, попробовать собрать систему из исходников.

4.  Возможно, что в ОИЯИ всё еще есть носители и какая-то документация по
БЭСМ и МКБ, надо бы попытаться выдернуть оттуда что-то в каком-нибудь виде.

5.  Сергей Вакуленко (vak) просил,  что-то написать, но это, как говорится,
будет сделано по обстоятельствам...


 ------------------------------------------------------------------

21-января-2017

МКБ 30 лет спустя

Еще одна из тем, которая возникла из разговоров на неделе, это провести
ретроспективное "ревью" на тему: а чтоже было, собственнно, сделано в 1986
году?  И не вдаваясь в героическое прошлое и всякую разную мифологию,
оценить потенциальную перспективонсть того самого МКБ-8601, но уже с учетом
накопленного тридцатилетнего опыта.  Вот Вам и МКБ 30 лет спустя!

М.П.

 ------------------------------------------------------------------

<<<<<<< HEAD
22-марта-2017

Пратически, все трудности преодолены! 
Система работает с Мультитапом!


М.П.


МУЛЬТИТАЙП  (ВЕРСИЯ ОТ 15/12/87)   ЭВМ-0
     РАSS:*****
     БУФЕР:*/*
     КАК
00.03-   Т 0002  24.00-  INТRSР
00.09-   Т 0004  24.00-  МАСRОS
      
     ПУС INТRSР
     ЖДИТЕ ОТВЕТА
ПАКЕТ В ФАЙЛЕ ВВОДА: 06
     СЛУ INТRSР
     СЧЕТ
     КАК
00.03-   Т 0002  24.00-  INТRSР
00.09-   Т 0004  24.00-  МАСRОS
00.28-   Т 0006  24.00-  INТRSР

     БУФЕР:
     РЕЗ 3
                                             00
                 00.28
 ОИЯИ.       БЭСМ-6/0     ШИФР-20
 МОНИТОРНАЯ СИСТЕМА  'Д У Б Н А'  -  20/10/88
             ЖЖЖ  Ж   Ж ЖЖЖЖЖ ЖЖЖЖ   ЖЖЖ  ЖЖЖЖ
              Ж   ЖЖ  Ж   Ж   Ж   Ж Ж     Ж   Ж
              Ж   Ж Ж Ж   Ж   Ж   Ж  ЖЖЖ  Ж   Ж
              Ж   Ж  ЖЖ   Ж   ЖЖЖЖ      Ж Ж   Ж
              Ж   Ж   Ж   Ж   Ж Ж       Ж ЖЖЖЖ
              Ж   Ж   Ж   Ж   Ж  Ж  Ж   Ж Ж
             ЖЖЖ  Ж   Ж   Ж   Ж   Ж  ЖЖЖ  Ж
*NАМЕ INТRSР
*ТIМЕ:24.00
 <ЭКСПРЕСС-ЗАДАЧА>
*NО LОАD
                                             00
                 00.28
 Ф О Р Т Р А Н
   /16.07.73/
                РRОGRАММА
                DIМЕNSIОN М1(9),М2(9),М3(9),М4(9),М5(9)
=======
28-февраля-2017
 
Ну, в некотором роде, как подялось! Не на 100% чисто, но работает:  

sim> run 1000

  ОИЯИ. ОС ДУБНА ОТ 28.02.17 М1
  МОNSУS/9 R10
  D73INР/1 R11
  D73ОUТ/3 R12
  LINВUF/1 R13
  RОLLIВ/1 R14
  МОNSУS/9 R10
  D73INР/1 R11
  D73ОUТ/3 R12
  LINВUF/1 R13
  RОLLIВ/1 R14
  Д-2000  МС-Ф10,
  ВЫВОД БУФЕРИЗОВАН
  ::: чтение МД 0 зона 0104 память 376000-377777
  --- (73401) контроль команды
  ОШ22-ТАSК11
  ПЛАНИРОВЩИК
  ::: чтение МД 0 зона 0434 память 374000-375777
  1/
  ОПЕРАТОР - 1 ПОЛЬЗ.
  ОР.01=VТ-340 : МАШ.ЗАЛ    :
  11/
  ::: чтение МД 0 зона 0104 память 376000-377777
  ОШ22-ТАSК11

Формально, можно считать, что практически основные проблемы преодолены.
Как оказалось, что библиотеки служ задач (БСЗ) на ленте нет и я, по ошибке,
вызывал компиляторы (это, на сегодня, есть моё понимание "контроля команды")

Валилось всё с прошлой недели, про двум причинам:

  1. каталог статистики, если он испорчен, есть фатальное явление (?)
  2. ДД путается, когда он вызван с МБ, а какие-то компоненты на диске, просто не рассчитывали на такую конфигурацию, либо МБ и МЛ, либо МД и МБ. Понять это заняло почти 3 дня, но как оказалось, лечится всё достаточно малой кровью: установкой ТР и переименованием моделей лент.

Что работает:
  1. Консул
  2. МБ с зажатым контролем СлС и чётности
  3. МД с левыми СлС
  4. ДД полностью инициализируемый
  5. Каталоги дисков правильно работают
 
Не проверено:

  1. МС? надо сформировать каталог ввода и пихнуть
  2  Мультитайп, и Экранный редактор
  3. ВВод
  4. АЦПУ
  5. Отладчик
  6. Системные тесты

Что не работает:

  1. Терминалы падают на привязкеб к сервису, похоже, я где-то вырезал больше чем надо
  2. Системная статистика - киллер для ДД
  3. Слуга - проверяет СлС на МД и не работает
  4. Нужно собирать БСЗ, там разметка МД и другие задачи. Нужен стат загрузчик.
  5. Не совсем ясно с моделями МБ на МД, система зависает если есть модели МБ
  6. Опознование дисков - хакнуто, но должно работать после разметки или периписи МД
>>>>>>> 6fa389b68981320169c1d0d6703cf92f2daa111d

 
Список изменённых (так или иначе) подпрограмм и функций,
некотоые были изменены только для отладки

       LDSНIFТ :  , NАМЕ,
       *ТLSIZЕ :  , NАМЕ,
       *ТLSУS  :  , NАМЕ,
       *ТLСОNN :  , NАМЕ,
       *ТLРRМТ :  , NАМЕ,
       *ТLВUFI :  , NАМЕ,
       ТЕRМ*LОС:  , NАМЕ,
       ВIО*ТL  :  , NАМЕ,
       ТRАМ70  :  , NАМЕ,
       DISС    :  , NАМЕ,
       *DISСS  :  , NАМЕ,
       RЕСМDТ  :  , NАМЕ,
       *СВ     :  , NАМЕ,
       NRSМDRЕС:  , NАМЕ,
       *SТАТВUF:  , NАМЕ,
       МDRЕСОGN:  , NАМЕ,
       *USЕSТА :  , NАМЕ,
       *DRUМВАS:  , NАМЕ,
       ЕХСНNRS :  , NАМЕ,
       *ПДИСК  :  , NАМЕ,
       **DISСS :  , NАМЕ,
       ТУРЕ МТ :  , NАМЕ,
       *ТУРЕLР :  , NАМЕ,
       *КОНСТРА:  , NАМЕ,
       *LINКРАR:  , NАМЕ,
       ТУР/РL  :  , NАМЕ,
       SРЕСМОN :  , NАМЕ,


На всё про всё ушло около месяца, много из того что помнил - забыл, многое и не знал.
Буду теперь делать скрипты запуска с текстов (ака "бутстрап") пока не забыл.

М.П.



